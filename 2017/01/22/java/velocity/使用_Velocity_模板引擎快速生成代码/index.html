<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="java,ruby,python,scala,sql,db,并发,协程"><title>使用 Velocity 模板引擎快速生成代码 | 技术随手记</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.2.0"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=1.2.0"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">使用 Velocity 模板引擎快速生成代码</h1><a id="logo" href="/.">技术随手记</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">使用 Velocity 模板引擎快速生成代码</h1><div class="post-meta">Jan 22, 2017<span> | </span><span class="category"><a href="/categories/Velocity/">Velocity</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2017/01/22/java/velocity/使用_Velocity_模板引擎快速生成代码/" href="/2017/01/22/java/velocity/使用_Velocity_模板引擎快速生成代码/#comments" class="ds-thread-count"></a><div class="post-content"><h2 id="Velocity-模板引擎介绍"><a href="#Velocity-模板引擎介绍" class="headerlink" title="Velocity 模板引擎介绍"></a>Velocity 模板引擎介绍</h2><p>在现今的软件开发过程中，软件开发人员将更多的精力投入在了重复的相似劳动中。特别是在如今特别流行的MVC架构模式中，软件各个层次的功能更加独立，同时代码的相似度也更加高。所以我们需要寻找一种来减少软件开发人员重复劳动的方法，让程序员将更多的精力放在业务逻辑以及其他更加具有创造力的工作上。Velocity这个模板引擎就可以在一定程度上解决这个问题。<br>Velocity是一个基于Java的模板引擎框架，提供的模板语言可以使用在Java中定义的对象和变量上。Velocity是Apache基金会的项目，开发的目标是分离MVC模式中的持久化层和业务层。但是在实际应用过程中，Velocity不仅仅被用在了MVC的架构中，还可以被用在以下一些场景中。</p>
<p>1.Web应用：开发者在不使用JSP的情况下，可以用Velocity让HTML具有动态内容的特性。<br>2.源代码生成：Velocity可以被用来生成Java代码、SQL或者PostScript。有很多开源和商业开发的软件是使用Velocity来开发的。<br>3.自动Email：很多软件的用户注册、密码提醒或者报表都是使用Velocity来自动生成的。使用Velocity可以在文本文件里面生成邮件内容，而不是在Java代码中拼接字符串。<br>4.转换xml：Velocity提供一个叫 Anakia 的ant任务，可以读取XML文件并让它能够被 Velocity模板读取。一个比较普遍的应用是将xdoc文档转换成带样式的HTML文件。</p>
<h2 id="Hello-Velocity"><a href="#Hello-Velocity" class="headerlink" title="Hello Velocity"></a>Hello Velocity</h2><p>和学习所有新的语言或者框架的顺序一样，我们从Hello Velocity开始学习。首先在Velocity的官网上下载最新的发布包，之后使用Eclipse建立普通的Java项目。引入解压包中的 velocity-1.7.jar和lib文件夹下面的jar包。这样我们就可以在项目中使用Velocity了。<br>在做完上面的准备工作之后，就可以新建一个叫<code>HelloVelocity</code>的类，代码如下：</p>
<h3 id="清单-1-HelloVelocity-java"><a href="#清单-1-HelloVelocity-java" class="headerlink" title="清单 1. HelloVelocity.java"></a>清单 1. HelloVelocity.java</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">public class HelloVelocity &#123;</div><div class="line"> public static void main(String[] args) &#123;</div><div class="line"> VelocityEngine ve = new VelocityEngine();</div><div class="line"> ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);</div><div class="line"> ve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());</div><div class="line"> </div><div class="line"> ve.init();</div><div class="line"> </div><div class="line"> Template t = ve.getTemplate(&quot;hellovelocity.vm&quot;);</div><div class="line"> VelocityContext ctx = new VelocityContext();</div><div class="line"> </div><div class="line"> ctx.put(&quot;name&quot;, &quot;velocity&quot;);</div><div class="line"> ctx.put(&quot;date&quot;, (new Date()).toString());</div><div class="line"> </div><div class="line"> List temp = new ArrayList();</div><div class="line"> temp.add(&quot;1&quot;);</div><div class="line"> temp.add(&quot;2&quot;);</div><div class="line"> ctx.put(&quot;list&quot;, temp);</div><div class="line"> </div><div class="line"> StringWriter sw = new StringWriter();</div><div class="line"> </div><div class="line"> t.merge(ctx, sw);</div><div class="line"> </div><div class="line"> System.out.println(sw.toString());</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在<code>HelloVelocity</code>的代码中，首先<code>new</code>了一个<code>VelocityEngine</code>类，这个类设置了Velocity使用的一些配置，在初始化引擎之后就可以读取<code>hellovelocity.vm</code>这个模板生成的<code>Template</code>这个类。之后的<code>VelocityContext</code>类是配置<code>Velocity</code>模板读取的内容。这个<code>context</code>可以存入任意类型的对象或者变量，让<code>template</code>来读取。这个操作就像是在使用JSP开发时，往<code>request</code>里面放入key-value，让JSP 读取一样。<br>接下来就是写<code>hellovelocity.vm</code>文件了，这个文件实际定义了Velocity的输出内容和格式。<code>hellovelocity.vm</code>的内容如下：</p>
<h3 id="清单-2-Hellovelocity-vm"><a href="#清单-2-Hellovelocity-vm" class="headerlink" title="清单 2. Hellovelocity.vm"></a>清单 2. Hellovelocity.vm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">#set( $iAmVariable = &quot;good!&quot; )</div><div class="line">Welcome $name to velocity.com</div><div class="line">today is $date.</div><div class="line">#foreach ($i in $list)</div><div class="line">$i</div><div class="line">#end</div><div class="line">$iAmVariable</div></pre></td></tr></table></figure>
<p>输出结果如下：<br>Welcome velocity to velocity.com<br>today is Sun Mar 23 19:19:04 CST 2014.<br>1<br>2<br>good!<br>在输出结果中我们可以看到，$name、$date 都被替换成了在 HelloVelocity.java 里面定义的变量，在 foreach 语句里面遍历了 list 的每一个元素，并打印出来。而$iAmVariable 则是在页面中使用 #set 定义的变量。<br>回页首<br>基本模板语言语法使用<br>在 hellovelocity.vm 里面可以看到很多以 # 和$符开头的内容，这些都是 Velocity 的语法。在 Velocity 中所有的关键字都是以 # 开头的，而所有的变量则是以$开头。Velocity 的语法类似于 JSP 中的 JSTL，甚至可以定义类似于函数的宏，下面来看看具体的语法规则。<br>一、变量<br>和我们所熟知的其他编程语言一样，Velocity 也可以在模板文件中有变量的概念。</p>
<ol>
<li>变量定义<br>#set($name =“velocity”)<br>等号后面的字符串 Velocity 引擎将重新解析，例如出现以$开始的字符串时，将做变量的替换。<br>#set($hello =“hello $name”)<br>上面的这个等式将会给$hello 赋值为“hello velocity”</li>
<li>变量的使用<br>在模板文件中使用$name 或者${name} 来使用定义的变量。推荐使用${name} 这种格式，因为在模板中同时可能定义了类似$name 和$names 的两个变量，如果不选用大括号的话，引擎就没有办法正确识别$names 这个变量。<br>对于一个复杂对象类型的变量，例如$person，可以使用${person.name} 来访问 person 的 name 属性。值得注意的是，这里的${person.name} 并不是直接访问 person 的 name 属性，而是访问 person 的 getName() 方法，所以${person.name} 和${person.getName()} 是一样的。</li>
<li>变量赋值<br>在第一小点中，定义了一个变量，同时给这个变量赋了值。对于 Velocity 来说，变量是弱数据类型的，可以在赋了一个 String 给变量之后再赋一个数字或者数组给它。可以将以下六种数据类型赋给一个 Velocity 变量：变量引用, 字面字符串, 属性引用, 方法引用, 字面数字, 数组列表。<br>#set($foo = $bar)<br>#set($foo =“hello”)<br>#set($foo.name = $bar.name)<br>#set($foo.name = $bar.getName($arg))<br>#set($foo = 123)<br>#set($foo = [“foo”,$bar])<br>二、循环<br>在 Velocity 中循环语句的语法结构如下：<br>#foreach($element in $list)<br>This is $element<br>$velocityCount<br>#end<br>Velocity 引擎会将 list 中的值循环赋给 element 变量，同时会创建一个$velocityCount 的变量作为计数，从 1 开始，每次循环都会加 1.<br>三、条件语句<br>条件语句的语法如下<br>#if(condition)<br>…<br>#elseif(condition)<br>…<br>#else<br>…<br>#end<br>四、关系操作符<br>Velocity 引擎提供了 AND、OR 和 NOT 操作符，分别对应&amp;&amp;、||和! 例如：<br>#if($foo &amp;&amp; $bar)<br>#end<br>五、宏<br>Velocity 中的宏可以理解为函数定义。定义的语法如下：<br>#macro(macroName arg1 arg2 …)<br>…<br>#end<br>调用这个宏的语法是：<br>#macroName(arg1 arg2 …)<br>这里的参数之间使用空格隔开，下面是定义和使用 Velocity 宏的例子：<br>#macro(sayHello $name)<br>hello $name<br>#end<br>#sayHello(“velocity”)<br>输出的结果为 hello velocity<br>六、#parse 和 #include<br>#parse 和 #include 指令的功能都是在外部引用文件，而两者的区别是，#parse 会将引用的内容当成类似于源码文件，会将内容在引入的地方进行解析，#include 是将引入文件当成资源文件，会将引入内容原封不动地以文本输出。分别看以下例子：<br>foo.vm 文件：<br>#set($name =“velocity”)<br>parse.vm：<br>#parse(“foo.vm”)<br>输出结果为：velocity<br>include.vm：<br>#include(“foo.vm”)<br>输出结果为：#set($name =“velocity”)<br>以上内容包含了部分 Velocity 的语法，详细的语法内容可以参考 Velocity 的官方文档。<br>回页首<br>自动生成代码的例子<br>在上个例子中我们可以生成任意的字符串并且打印出来，那为什么我们不能生成一些按照既定格式定义的代码并且写入文件呢。<br>在这里我们以一个实际的 demo 来完成这部分内容。相关内容的源码可以参照附件。这个 demo 的功能是要实现一个学生和老师的管理，实际上都是单张表的维护。我们希望能够只定义 model 层，来生成 MVC 的所有代码。在这个 demo 中，只自动生成 action 和 JSP 的内容，因为现在有很多工具都可以帮助我们自动生成这两个包的代码。<br>首先在 eclipse 中建立一个 Java web 工程，在例子中为了方便管理 jar 包，使用的是 maven 来建立和管理工程。建立好的工程目录结构如下图所示：<br>图 1. 项目目录结构<br>项目目录结构<br>Java Resource 中放的是 Java 源码以及资源文件，Deployed Resources 中放的是 web 相关的文件。在 Java 文件中使用了类似 Spring 的 @Component 和 @Autowired 的注解来实现 IoC，使用 @Action 这样的注解实现 MVC，而在 JSP 中则使用了 JSTL 来输出页面。在上图所示的目录中，annotation、filter、framework 和 util 这四个 package 是作为这个项目框架的，跟业务没有关系，类似于 spring 和 struts 的功能。<br>在实际的项目中我们当然希望能够一开始就编写一个通用的模板文件，然后一下子生成所有的代码，但是很多时候这样做是不可能的，或者说比较困难。为了解决这个问题，我们可以在编写 Velocity 模板文件之前先按照原本的流程编写代码，暂时先忘掉 Velocity。编写的代码应该能够在一个功能上完整的调通涉及 MVC 中所有层次的内容。在这个例子中，先编写好 StudentAction.java 文件，以及上图中 webapp 目录中所示的文件。在写好以上代码，同时也能顺利运行之后，我们可以参照之前编写的代码来写模板文件。这里我们来分别看一个 Java 文件和 JSP 的例子。<br>清单 3. ActionTemplate.vm<br>#parse (“macro.vm”)</li>
</ol>
<p>@Action(“${classNameLowCase}Action”)<br>public class ${classNameUpCase}Action extends BaseAction{<br> @Autowired<br> public ${classNameUpCase}Dao ${classNameLowCase}Dao;<br> private List&lt;${classNameUpCase}&gt; ${classNameLowCase}s;<br> private ${classNameUpCase} ${classNameLowCase};</p>
<p>#foreach ($attr in ${attrs})<br> private ${attr[0]} ${attr[1]};</p>
<p>#end<br> public String ${classNameLowCase}List() {<br> ${classNameLowCase}s = ${classNameLowCase}Dao.retrieveAll${classNameUpCase}s();<br> return “${classNameLowCase}List.jsp”;<br> }</p>
<p> …<br>}<br>上面的代码展示了一个 Java 类转换成 vm 模板之后的部分内容，完整内容请参考附件。<br>macro.vm 文件中定义了一些使用的宏。JSP 的改造相对于 Java 文件来说稍微有点复杂，因为 JSP 中使用 JSTL 取 request 中的值也是使用${name} 这样的语法，所以想要输出${name} 这样的字符串而不是被模板引擎所替换，则需要使用转义字符，就像这样：\${name}。<br>为了能够让这个文件中的 table 得到复用，我们将这个文件中的表格单独拿出来，使用 #parse 命令来包含。下面是 ListJspTemplate.vm 和 ListTableTemplate.vm 的内容：<br>清单 4. ListJspTemplate.vm<br>&lt;%@ page language=”java” contentType=”text/html; charset=UTF-8”<br> pageEncoding=”UTF-8”%&gt;<br>&lt;%@taglib prefix=”c” uri=”<a href="http://java.sun.com/jsp/jstl/core" target="_blank" rel="external">http://java.sun.com/jsp/jstl/core</a>“ %&gt;<br>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD HTML 4.01 Transitional//EN” “<a href="http://www.w3.org/TR/html4/loose.dtd&quot;&gt;" target="_blank" rel="external">http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</a></p>
<p><html></html></p>
<p><head><br> &lt;%@ include file=”includeJS.jsp” %&gt;<br> <script type="text/javascript"><br> var pageConfig = {<br> “list” : {<br> “action” : “${classNameLowCase}Action!${classNameLowCase}List.action”<br> }<br> …<br> “idName” : “${classNameLowCase}Id”<br> };<br> </script><br> <script type="text/javascript" src="common.js"></script></head></p>
<p><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></p>
<p><title>${classNameUpCase} List</title><br></p>
<p><body></body></p>
<p></p><h1>${classNameUpCase} List</h1><p></p>
<p><div><button id="addButton">Add</button></div></p>
<p>#parse (“ListTableTemplate.vm”)</p>
<p><div id="modifyDiv"></div></p>
<p><div id="addDiv"></div><br><br><br>清单 5. ListTableTemplate.vm</p>
<p>#parse (“macro.vm”)</p>
<p>#set($plus = “status.index+1”)</p>
<p><table border="1" style="width: 100%"><br> <thead><br> <tr><th>No.</th>#generateTH($attrs)</tr><br> </thead><br> <tbody><br> <c:foreach var="${classNameLowCase}" items="${${classNameLowCase}s }" varstatus="status"><br> <tr ${classnamelowcase}id="${${classNameLowCase}.id }"><br> <td>${${plus}}</td>#generateTD($classNameLowCase $attrs)<td><br> <button class="modifyButton">Modify</button><br> <button class="deleteButton">Delete</button></td></tr><br> </c:foreach><br> </tbody><br></table><br>在定义好所有的模板文件之后，需要做的是读取这些文件，然后根据这些文件将 model 的数据类型以及名称设置到 context 中，最后将解析出来的内容写到相应的目录中去。这些工作我们放在了一个叫做 VelocityGenerator 的类中来做，它的源码如下：<br>清单 6. TemplateGenerator.java<br>public class VelocityGenerator {</p>
<p> public static void main(String[] args) {<br> VelocityEngine ve = new VelocityEngine();<br> ve.setProperty(RuntimeConstants.RESOURCE_LOADER, “classpath”);<br> ve.setProperty(“classpath.resource.loader.class”, ClasspathResourceLoader.class.getName());</p>
<p> ve.init();<br> Template actionTpt = ve.getTemplate(“ActionTemplate.vm”);<br> Template listJspTpt = ve.getTemplate(“ListJspTemplate.vm”);<br> Template addTpt = ve.getTemplate(“AddTemplate.vm”);<br> Template modifyTpt = ve.getTemplate(“ModifyTemplate.vm”);<br> VelocityContext ctx = new VelocityContext();</p>
<p> ctx.put(“classNameLowCase”, “teacher”);<br> ctx.put(“classNameUpCase”, “Teacher”);<br> String[][] attrs = {<br> {“Integer”,”id”},<br> {“String”,”name”},<br> {“String”,”serializeNo”},<br> {“String”,”titile”},<br> {“String”,”subject”}<br> };<br> ctx.put(“attrs”, attrs);<br> String rootPath = VelocityGenerator.class.getClassLoader().getResource(“”).getFile() + “../../src/main”;<br> merge(actionTpt,ctx,rootPath+”/java/com/liuxiang/velocity/action/TeacherAction.java”);<br> merge(listJspTpt,ctx,rootPath+”/webapp/teacherList.jsp”);<br> merge(addTpt,ctx,rootPath+”/webapp/teacherAdd.jsp”);<br> merge(modifyTpt,ctx,rootPath+”/webapp/teacherModify.jsp”);<br> System.out.println(“success…”);<br> }</p>
<p> private static void merge(Template template, VelocityContext ctx, String path) {<br> PrintWriter writer = null;<br> try {<br> writer = new PrintWriter(path);<br> template.merge(ctx, writer);<br> writer.flush();<br> } catch (FileNotFoundException e) {<br> e.printStackTrace();<br> } finally {<br> writer.close();<br> }<br> }<br>}<br>在运行以上代码之后，项目文件夹中将会出现与 Teacher 相关的代码文件。<br>在实际项目中可能不会出现很多这种单张表维护的情况，而且业务逻辑和系统架构会更加复杂，编写模板文件就更加不容易。但是无论多复杂的系统，不同的业务逻辑之间一定或多或少会有相似的代码，特别是在 JSP 和 JS 显示端文件中，因为我们在一个系统中要求显示风格、操作方式一致的时候就免不了会有相似内容的代码出现。在总结这些相似性之后我们还是可以使用 Velocity 来帮助我们生成部分内容的代码，而且即使有一些非共性的内容，我们也可以在生成的代码中继续修改。使用 Velocity 的另外一个好处是生成出来的代码更好维护，风格更加统一。<br>回页首<br>结束语<br>Velocity 可以被应用在各种各样的情景下，本文介绍的只是它的一种用途而已，它还可以被用来做 MVC 结构中的 view 层，或者动态内容静态化等。另外，Velocity 并不是唯一的模板框架，同样很优秀的 Freemarker 也获得了非常广泛的应用，有兴趣的读者可以去深入研究更多的功能和用途。</p>
</div><div class="tags"><a href="/tags/Velocity/">Velocity</a></div><div class="post-nav"><a href="/2017/01/25/xunihua/VAGRANT_和_Docker的使用场景和区别_/" class="pre">VAGRANT 和 Docker的使用场景和区别?</a><a href="/2017/01/17/spring/Spring中提示元素__ref__中不允许出现属性__local_/" class="next">Spring中提示元素 'ref' 中不允许出现属性 'local'</a></div><div data-thread-key="2017/01/22/java/velocity/使用_Velocity_模板引擎快速生成代码/" data-title="使用 Velocity 模板引擎快速生成代码" data-url="http://jishusuishouji.github.io/2017/01/22/java/velocity/使用_Velocity_模板引擎快速生成代码/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到:</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2017/01/22/java/velocity/使用_Velocity_模板引擎快速生成代码/" data-title="使用 Velocity 模板引擎快速生成代码" data-url="http://jishusuishouji.github.io/2017/01/22/java/velocity/使用_Velocity_模板引擎快速生成代码/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="widget"><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="请输入关键字..."/></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Velocity/">Velocity</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/jta/">jta</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/spring/">spring</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/">spring</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/分布式事务/" style="font-size: 15px;">分布式事务</a> <a href="/tags/架构/" style="font-size: 15px;">架构</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/jta/" style="font-size: 15px;">jta</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/jotm/" style="font-size: 15px;">jotm</a> <a href="/tags/atomikos/" style="font-size: 15px;">atomikos</a> <a href="/tags/Velocity/" style="font-size: 15px;">Velocity</a> <a href="/tags/hibernate/" style="font-size: 15px;">hibernate</a> <a href="/tags/HibernateTemplate/" style="font-size: 15px;">HibernateTemplate</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-fei"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/03/21/jiagou/架构师必看_京东咚咚架构演进/">架构师必看 京东咚咚架构演进</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/25/xunihua/VAGRANT_和_Docker的使用场景和区别_/">VAGRANT 和 Docker的使用场景和区别?</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/22/java/velocity/使用_Velocity_模板引擎快速生成代码/">使用 Velocity 模板引擎快速生成代码</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/17/spring/Spring中提示元素__ref__中不允许出现属性__local_/">Spring中提示元素 'ref' 中不允许出现属性 'local'</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/14/nodejs/nodejs的require模块及路径/">nodejs的require模块及路径</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/09/java/spring/Spring_MVC事务配置/">Spring MVC事务配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/09/java/spring/是该抛弃Spring_HibernateTemplate的时候了/">是该抛弃Spring HibernateTemplate的时候了</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/09/java/spring/So_should_you_still_use_Spring_s_HibernateTemplate_and_or_JpaTemplate__/">So should you still use Spring's HibernateTemplate and/or JpaTemplate??</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/08/java/jta/java分布式事务_JTA_实现 jotm和atomikos/">java分布式事务(JTA)实现 jotm和atomikos</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/08/java/jta/java分布式事务_spring_JTA_jotm/">java分布式事务:spring+JTA+jotm</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-commt"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div></div></div></div><a id="totop" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.2.0" async></script><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |<a href="/atom.xml">订阅本站</a> |<span>联系博主：<a href="mailto:null" target="_blank" class="fa fa-email"> </a><a href="null" target="_blank" class="fa fa-weibo"></a><a href="null" target="_blank" class="fa fa-github"> </a></span></p><p><span> Copyright &copy;<a href="/." rel="nofollow">技术随手记</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span><span><a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> Theme </a>by<a rel="nofollow" target="_blank" href="https://github.com/chaooo"> Charles.</a></span></p></div></div></div><script>var duoshuoQuery = {short_name:'jishusuishouji'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    document.getElementsByTagName('body')[0].appendChild(ds);
})();
</script><script type="text/javascript" src="/js/search.json.js?v=1.2.0"></script></body></html>